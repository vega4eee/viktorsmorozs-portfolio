<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Viktors Morozs â€“ Cinematographer</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    /* ... (existing styles remain unchanged) ... */
    .plyr__video-embed iframe {
      height: 400px;
      width: 100%;
    }
    @media (max-width: 768px) {
      .plyr__video-embed iframe {
        height: 240px;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg fixed-top">
    <!-- ... nav remains unchanged ... -->
  </nav>

  <section id="works" class="active text-center">
    <div class="container">
      <h2 data-aos="fade-up">My Works</h2>
      <div id="video-container"></div>
    </div>
  </section>

  <!-- ... About and Contact sections remain unchanged ... -->

  <footer>
    <p>&copy; 2025 Viktors Morozs. All rights reserved.</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js"></script>
  <script>
    function showSection(id) {
      document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(id).classList.add('active');

      const nav = document.getElementById('navbarNav');
      const hamburger = document.getElementById('hamburger');
      if (nav.classList.contains('show')) {
        new bootstrap.Collapse(nav).hide();
        hamburger.classList.remove('open');
      }

      document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
      AOS.refresh();
    }

    function toggleTheme() {
      const html = document.documentElement;
      const icon = document.getElementById('theme-icon');
      const current = html.getAttribute('data-theme');
      const newTheme = current === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', newTheme);
      icon.setAttribute('data-lucide', newTheme === 'dark' ? 'moon' : 'sun');
      lucide.createIcons();
    }

    document.addEventListener('click', function (event) {
      const nav = document.getElementById('navbarNav');
      const hamburger = document.getElementById('hamburger');
      if (nav.classList.contains('show') &&
          !nav.contains(event.target) &&
          !hamburger.contains(event.target)) {
        new bootstrap.Collapse(nav).hide();
        hamburger.classList.remove('open');
      }
    });

    document.getElementById('hamburger').addEventListener('click', function () {
      this.classList.toggle('open');
    });

    lucide.createIcons();
    AOS.init({ once: true });

    // Load videos from JSON
    fetch('videos.json')
      .then(res => res.json())
      .then(videos => {
        const container = document.getElementById('video-container');
        videos.forEach((video, index) => {
          const block = document.createElement('div');
          block.className = 'video-block';
          block.setAttribute('data-aos', 'fade-up');
          block.innerHTML = `
            <div class="plyr__video-embed" id="player-${index}">
              <iframe
                src="https://www.youtube.com/embed/${video.youtubeId}?rel=0&modestbranding=1&iv_load_policy=3&showinfo=0"
                allowfullscreen
                allowtransparency
                allow="autoplay">
              </iframe>
            </div>
            <div class="video-title">${video.title}</div>
          `;
          container.appendChild(block);
          new Plyr(`#player-${index} iframe`);
        });
      });
  </script>
</body>
</html>
